<!DOCTYPE html>
<html lang="tr">
<head>
<meta charset="UTF-8">
<title>Mini Oyun</title>
<style>
html,body{margin:0;padding:0;width:100%;height:100%;overflow:hidden;font-family:'Segoe UI',Arial,sans-serif;background:#1a1a1a;}
#ground{position:absolute;bottom:0;left:0;width:100%;height:45%;background:repeating-linear-gradient(45deg,#3a3a3a 0,#3a3a3a 20px,#444 20px,#444 40px);transform:perspective(800px) rotateX(55deg);transform-origin:bottom;animation:groundGlow 3s infinite alternate}
@keyframes groundGlow{0%{background-position:0 0}100%{background-position:40px 40px}}
#game{position:relative;width:100%;height:100%;color:#fff;perspective:1200px;overflow:hidden}
.big-text{font-size:5vw;max-width:90%;margin:4vh auto 2vh;line-height:1.35;text-align:center;text-shadow:0 0 15px rgba(0,0,0,.7)}
.fade{animation:fade 1.5s forwards}
@keyframes fade{to{opacity:0}}
.doors{position:absolute;left:50%;bottom:25%;transform:translateX(-50%);display:flex;gap:12vw;justify-content:center}
.door{width:25vw;max-width:150px;height:40vw;max-height:220px;border-radius:14px;background:linear-gradient(180deg,#9b6b3d,#5b381c);box-shadow:0 20px 40px rgba(0,0,0,.6);position:relative;cursor:pointer;transition:.4s;display:flex;align-items:flex-start;justify-content:center;padding-top:15%}
.door::after{content:"";width:10px;height:10px;background:gold;border-radius:50%;position:absolute;right:10px;top:50%;transform:translateY(-50%)}
.door span{position:absolute;top:15%;width:100%;text-align:center;font-weight:bold;font-size:4vw}
.door:hover{transform:translateY(-5px) scale(1.08)}
.pass{animation:pass 1s forwards}
@keyframes pass{to{transform:scale(2);opacity:0}}
.heart-door{background:linear-gradient(180deg,#ff6aa8,#ff2f7d)}
.heart{font-size:8vw;position:absolute;top:10%;width:100%;text-align:center;animation:beat 1s infinite}
@keyframes beat{0%,100%{transform:scale(1)}50%{transform:scale(1.2)}}
.locked{cursor:not-allowed}
.chain{position:absolute;inset:0;background:repeating-linear-gradient(45deg,rgba(0,0,0,.7) 0,rgba(0,0,0,.7) 12px,transparent 12px,transparent 24px);z-index:2}
.chain-text{position:absolute;bottom:14px;width:100%;text-align:center;font-weight:bold;z-index:3}
.lock-msg{position:absolute;top:45%;width:100%;text-align:center;font-size:5vw;font-weight:900;opacity:0;transition:opacity .3s}
.show{opacity:1}
</style>
</head>
<body>
<div id="game">
  <div id="text" class="big-text">meraklı mısın</div>
  <div class="doors" id="doors">
    <div class="door" id="yes" onclick="chooseYes()"><span>Evet</span></div>
    <div class="door" id="no" onclick="chooseNo()"><span>Hayır</span></div>
  </div>
  <div id="ground"></div>
</div>
<script>
let step = 0;
let noClickCount = 0;

function setText(t, cb){
  const e = document.getElementById('text');
  e.classList.add('fade');
  setTimeout(()=>{
    e.innerText = t;
    e.classList.remove('fade');
    if(cb) setTimeout(cb,1500);
  },700);
}

function playSound(){
  const a = new Audio('https://www.soundjay.com/buttons/sounds/button-3.mp3');
  a.volume = 0.2;
  a.play();
}

function chooseNo(){
  const no = document.getElementById('no');
  noClickCount++;
  const scale = Math.max(0.4, 1 - noClickCount * 0.15);
  const x = Math.random()*200 - 100;
  no.style.transform = `translateX(${x}px) scale(${scale})`;
  if(noClickCount >= 5){
    no.style.opacity = '0';
    setTimeout(()=>no.remove(),400);
  }
}

function chooseYes(){
  playSound();
  const y = document.getElementById('yes');
  y.classList.add('pass');
  setTimeout(()=>{
    document.getElementById('doors').innerHTML='';
    intro();
  },1000);
}

function intro(){
  const a=[
    '1. oyuna hoş geldin',
    'sana birkaç kapı vereceğiz',
    'seçimler oyunun sonunu değiştirir',
    'kolay gelsin (￣︶￣)'
  ];
  if(step < a.length){
    setText(a[step], ()=>{step++; intro();});
  }else{
    round1();
  }
}

function next(fn, el){
  playSound();
  el.classList.add('pass');
  setTimeout(fn,1000);
}

function round1(){
  setText('kapını seç');
  document.getElementById('doors').innerHTML=`
    <div class="door" onclick="next(round2,this)"><span>hyunjin</span></div>
    <div class="door" onclick="next(round2,this)"><span>KAYRA</span></div>`;
}

function round2(){
  setText('bir seçim daha');
  document.getElementById('doors').innerHTML=`
    <div class="door" onclick="next(round3,this)"><span>okul çıkışı dolaşmak</span></div>
    <div class="door" onclick="next(round3,this)"><span>kaçmak</span></div>`;
}

function round3(){
  setText('beni seviyor musun');
  document.getElementById('doors').innerHTML=`
    <div class="door heart-door" onclick="next(round4,this)"><div class="heart">❤️</div></div>
    <div class="door heart-door" onclick="next(round4,this)"><div class="heart">❤️</div></div>`;
}

function round4(){
  setText('son karar');
  document.getElementById('doors').innerHTML=`
    <div class="door locked" onclick="lockedClick(this)">
      <div class="chain"></div>
      <div class="chain-text">ayrılmak</div>
      <div class="lock-msg">kilitli</div>
    </div>
    <div class="door" onclick="finish()"><span>:D</span></div>`;
}

function lockedClick(el){
  const m = el.querySelector('.lock-msg');
  m.classList.add('show');
  setTimeout(()=>m.classList.remove('show'),1200);
}

function finish(){
  document.getElementById('doors').innerHTML='';
  const lines=[
    '2. ayımız kutlu olsun',
    'bunu yapmakla çok uğraştım',
    'umarım beğenirsin ❤️'
  ];
  let i=0;
  const text=document.getElementById('text');
  function flow(){
    if(i<lines.length){
      text.innerText=lines[i++];
      setTimeout(flow,2000);
    }
  }
  flow();
}
</script>
</body>
</html>
